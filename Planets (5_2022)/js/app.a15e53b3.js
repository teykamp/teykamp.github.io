(function(t){function i(i){for(var s,r,h=i[0],o=i[1],l=i[2],u=0,d=[];u<h.length;u++)r=h[u],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&d.push(n[r][0]),n[r]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s]);c&&c(i);while(d.length)d.shift()();return a.push.apply(a,l||[]),e()}function e(){for(var t,i=0;i<a.length;i++){for(var e=a[i],s=!0,h=1;h<e.length;h++){var o=e[h];0!==n[o]&&(s=!1)}s&&(a.splice(i--,1),t=r(r.s=e[0]))}return t}var s={},n={app:0},a=[];function r(i){if(s[i])return s[i].exports;var e=s[i]={i:i,l:!1,exports:{}};return t[i].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=t,r.c=s,r.d=function(t,i,e){r.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,i){if(1&i&&(t=r(t)),8&i)return t;if(4&i&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var s in t)r.d(e,s,function(i){return t[i]}.bind(null,s));return e},r.n=function(t){var i=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(i,"a",i),i},r.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},r.p="/";var h=window["webpackJsonp"]=window["webpackJsonp"]||[],o=h.push.bind(h);h.push=i,h=h.slice();for(var l=0;l<h.length;l++)i(h[l]);var c=o;a.push([0,"chunk-vendors"]),e()})({0:function(t,i,e){t.exports=e("56d7")},"034f":function(t,i,e){"use strict";e("85ec")},"21c5":function(t,i,e){},"56d7":function(t,i,e){"use strict";e.r(i);e("e260"),e("e6cf"),e("cca6"),e("a79d");var s=e("2b0e"),n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{attrs:{id:"app"}},[e("Canvas")],1)},a=[],r=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("div",{attrs:{id:"align"}},[e("div",{attrs:{id:"list"}},[e("List",{attrs:{planetList:t.planetList},on:{emitter:function(i){return t.emitHelper(i)}}})],1),e("canvas",{attrs:{id:"canvas"},on:{mousedown:function(i){return t.mouseDown()},mouseup:function(i){return t.mouseUp()}}})])])},h=[],o=(e("cb29"),e("d4ec")),l=e("bee2"),c=(e("2af1"),function(){function t(i,e,s,n,a,r,h,l){Object(o["a"])(this,t),this.x=i,this.y=e,this.dx=s,this.dy=n,this.ax=0,this.ay=0,this.mass=a,this.radius=3,this.id=r,this.freeze=h,this.trail=[],this.trailPos=0,this.flipper=!0,this.color=l,this.maxID=this.id}return Object(l["a"])(t,[{key:"moveTowards",value:function(t,i){if(this.ax=0,this.ay=0,this.freeze)return this.dx=0,void(this.dy=0);for(var e=0;e<t.length;e++)if(this.id!=t[e].id&&-1!=t[e].id){var s=this.x-t[e].x,n=this.y-t[e].y,a=Math.abs(Math.atan(n/s)),r=Math.sqrt(Math.pow(s,2)+Math.pow(n,2)),h=i*t[e].mass/r;this.ax+=-Math.sign(s)*h*Math.cos(a),this.ay+=-Math.sign(n)*h*Math.sin(a),this.dx+=this.ax,this.dy+=this.ay,this.x+=this.dx/Math.pow(this.maxID,1.7),this.y+=this.dy/Math.pow(this.maxID,1.7)}this.flipHelper(),this.checkDestroy(t)&&this.destroy(),500==this.trailPos&&(this.trailPos=0)}},{key:"checkDestroy",value:function(t){for(var i=0;i<t.length;i++)return Math.pow(this.x-t[i].x,2)+Math.pow(this.y-t[i].y,2)<200&&this.id!=t[i].id}},{key:"flipHelper",value:function(){1==this.flipper&&(this.trail[this.trailPos]=[this.x,this.y],this.trailPos++),this.flipper=!this.flipper}},{key:"destroy",value:function(){this.mass=0,this.x=-50,this.y=-50,this.freeze=!0,this.id=-1,this.trail=[]}}]),t}()),u=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("div",{attrs:{id:"container"}},[e("nav",[e("ul",t._l(t.planetList,(function(i){return e("div",{key:i.id},[-1!=i.id?e("div",[e("div",{staticClass:"card"},[e("div",{staticClass:"title"},[i.mass>5e3?e("div",[e("p",[t._v(t._s("Sun: "+i.id))])]):i.mass<500?e("div",[e("p",[t._v(t._s("Moon: "+i.id))])]):e("div",[e("p",[t._v(t._s("Planet: "+i.id))])])]),e("div",{staticClass:"functions"},[e("p",[t._v("Mass:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:i.mass,expression:"planet.mass"}],attrs:{type:"number",min:"0",step:"50"},domProps:{value:i.mass},on:{input:function(e){e.target.composing||t.$set(i,"mass",e.target.value)}}}),e("br"),e("button",{staticClass:"delete",on:{click:function(e){return t.$emit("emitter",[2,i.id])}}},[t._v("Delete")]),e("button",{staticClass:"freeze",on:{click:function(e){return t.$emit("emitter",[3,i.id])}}},[t._v(" "+t._s(t.freezeHelper(i.freeze))+" ")])])])]):t._e()])})),0)])]),e("footer",[e("p",[t._v("This is a fun webapp to simulate orbits. Drag to shoot a planet!")]),e("button",{staticClass:"reset",on:{click:function(i){return t.$emit("emitter",[4])}}},[t._v("Reset")]),e("button",{staticClass:"recenter",on:{click:function(i){return t.$emit("emitter",[5])}}},[t._v("Recenter")])])])},d=[],p={name:"List",components:{},props:["planetList"],data:function(){return{freezeText:"Freeze Sun"}},methods:{freezeHelper:function(t){return t?"Unfreeze":"Freeze"}}},f=p,x=(e("bd4c"),e("2877")),v=Object(x["a"])(f,u,d,!1,null,"4cc417f0",null),m=v.exports,y={name:"Canvas",components:{List:m},data:function(){return{ctx:null,height:0,width:0,planetList:[],size:500,id:2,G:.002,colors:["red","green","blue","orange","yellow","purple","white"],sunMass:5e3,moonMass:500,sunID:1,x1:0,y1:0,drawSling:!1}},methods:{randomNumber:function(t,i){return Math.random()*(i-t)+t},mouseDown:function(){this.x1=event.clientX,this.y1=event.clientY,this.drawSling=!0},mouseUp:function(){var t=event.clientX,i=event.clientY,e=(this.x1-t)/10,s=(this.y1-i)/10;this.createPlanet(this.x1,this.y1,e,s,Math.floor(this.randomNumber(10,1500))),this.drawSling=!1},createPlanet:function(t,i,e,s,n){this.planetList.push(new c(t,i,e,s,n,this.id,!1,this.colors[Math.floor(Math.random()*this.colors.length)])),this.id++},drawSlingLine:function(){var t=this;document.addEventListener("mousemove",(function(i){t.ctx.strokeStyle="white",t.ctx.beginPath(),t.ctx.moveTo(t.x1,t.y1),t.ctx.lineTo(i.clientX,i.clientY),t.ctx.stroke()}))},drawVector:function(t){if(t.id!=this.sunID){var i=Math.sqrt(Math.pow(t.ax,2)+Math.pow(t.ay,2)),e=Math.sqrt(Math.pow(t.dx,2)+Math.pow(t.dy,2));this.ctx.strokeStyle="red",this.ctx.beginPath(),this.ctx.moveTo(t.x,t.y),this.ctx.lineTo(t.x+t.ax/i*50,t.y+t.ay/i*50),this.ctx.stroke(),this.ctx.strokeStyle="green",this.ctx.beginPath(),this.ctx.moveTo(t.x,t.y),this.ctx.lineTo(t.x+t.dx/e*50,t.y+t.dy/e*50),this.ctx.stroke()}},drawLabel:function(t){this.ctx.fillStyle="white",this.ctx.font="10px Arial",t.mass>this.sunMass?this.ctx.fillText("Sun "+t.id,t.x+t.radius+5,t.y+t.radius):t.mass<this.moonMass?this.ctx.fillText("Moon "+t.id,t.x+t.radius+5,t.y+t.radius):this.ctx.fillText("Planet "+t.id,t.x+t.radius+5,t.y+t.radius),this.ctx.fillText("Mass: "+t.mass,t.x+t.radius+5,t.y+t.radius+15)},emitHelper:function(t){switch(t[0]){case 2:for(var i=0;i<this.planetList.length;i++)this.planetList[i].id==t[1]&&this.planetList[i].destroy();break;case 3:for(var e=0;e<this.planetList.length;e++)this.planetList[e].id==t[1]&&(this.planetList[e].freeze=!this.planetList[e].freeze);break;case 4:this.planetList=[],this.planetList.push(new c(this.width/2,this.height/2,0,0,1e4,1,!1,"white")),this.id=2;break;case 5:if(0==this.planetList.length)break;for(var s,n=0;n<this.planetList.length;n++)s?this.planetList[n].mass>s.mass&&(s=this.planetList[n]):s=this.planetList[n];for(var a=this.width/2-s.x,r=this.height/2-s.y,h=0;h<this.planetList.length;h++)-1!=this.planetList[h].id&&(this.planetList[h].x+=a,this.planetList[h].y+=r,this.planetList[h].trail=[],this.planetList[h].trailPos=0);break;default:console.log("wrong code emitted: "+t[0])}},freezeSun:function(){for(var t=0;t<this.planetList.length;t++)this.planetList[t].mass>this.sunMass&&(this.planetList[t].freeze=!this.planetList[t].freeze)},draw:function(){this.ctx.clearRect(0,0,this.width,this.height);for(var t=0;t<this.planetList.length;t++){this.planetList[t].maxID=this.id,this.planetList[t].moveTowards(this.planetList,this.G),this.ctx.beginPath(),this.ctx.arc(this.planetList[t].x,this.planetList[t].y,this.planetList[t].radius,0,2*Math.PI,!1),this.ctx.fillStyle=this.planetList[t].color,this.ctx.fill(),this.drawVector(this.planetList[t]),this.drawLabel(this.planetList[t]);for(var i=0;i<this.planetList[t].trail.length;i++)this.ctx.fillStyle=this.planetList[t].color,this.ctx.beginPath(),this.ctx.arc(this.planetList[t].trail[i][0],this.planetList[t].trail[i][1],this.planetList[t].radius/2,0,2*Math.PI,!1),this.ctx.fill()}},init:function(){var t=document.getElementById("canvas");this.ctx=t.getContext("2d"),t.height=window.innerHeight-10,this.height=t.height,t.width=innerWidth-10,this.width=t.width,this.planetList.push(new c(this.width/2,this.height/2,0,0,1e4,1,!1,"white")),setInterval(this.draw,10)}},mounted:function(){this.init()}},w=y,b=(e("b220"),Object(x["a"])(w,r,h,!1,null,"69164dde",null)),g=b.exports,L={name:"App",components:{Canvas:g}},M=L,_=(e("034f"),Object(x["a"])(M,n,a,!1,null,null,null)),k=_.exports;s["a"].config.productionTip=!1,new s["a"]({render:function(t){return t(k)}}).$mount("#app")},"7ba4":function(t,i,e){},"85ec":function(t,i,e){},b220:function(t,i,e){"use strict";e("21c5")},bd4c:function(t,i,e){"use strict";e("7ba4")}});
//# sourceMappingURL=app.a15e53b3.js.map